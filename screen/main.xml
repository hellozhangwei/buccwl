<?xml version="1.0" encoding="UTF-8"?>

<screen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/xml-screen-2.1.xsd"
        require-authentication="false" screen-theme-type-enum-id="STT_INTERNAL" default-menu-title="Applications" allow-extra-path="true">


    <pre-actions><script><![CDATA[
        // if user not logged in save current path and params then redirect to Login
        if (!ec.user.userId) { ec.web.saveScreenLastInfo(null, null); sri.sendRedirectAndStopRender('/Login') }

        // jQuery, Bootstrap, Twitter TypeAhead, Form Validation (jquery-validation), Date/Time (Moment, bootstrap-datetimepicker),
        //      Drop-down (Select2, Selectivity), Notify/Growl (Bootstrap Notify), Inline Editable, Sortable Hierarchical List
        // Moqui Library (3rd party lib workarounds, NotificationClient, etc)
        html_scripts.add('/js/CombinedBase.min.js')

        String instancePurpose = System.getProperty("instance_purpose")
        if (!instancePurpose || instancePurpose == 'production') {
            /* ========== Production Mode ========== */
            footer_scripts.add('/js/CombinedVuet.min.js')
        } else {
            /* ========== Dev Mode ========== */
            // Vue JS
            html_scripts.add('/libs/vue/vue.js')
            // Vue instance, in footer so runs after page loaded
            footer_scripts.add('/js/WebrootVue.js')
        }
    ]]></script></pre-actions>

    <widgets>
        <render-mode>
            <!-- for html just render the navbar (Vue page wrapper and nav component) -->
            <text type="html" location="component://buccwl/screen/includes/Main.vuet.ftl"/>
            <!-- not meant to be used for anything else, for all other render modes go directly through /apps -->
        </render-mode>
    </widgets>
</screen>
